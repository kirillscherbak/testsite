1) есть 2 prometheus в конфедерации, в один летит шквал метрик от серверов, метрики имеют общий префикс systemd_*_*_* и нужно на нём ограничить фильтром так, чтобы {state="Active"} пропускались, а {state="Disabled"} не пропускались. в какую сторону посмотрите?
Пока не сильная моя сторона, конфигцрация прометея, но предположу, что данный функционал настраивается через Instant vector selectors

2) за сколько сможете написать ansible-playbook который раскатает strongswan сервер к которому могут подключиться iphone, mac, windows для среднего офиса, vpn-сервер стоит за NAT, Cisco 2901? (50 пользователей, логины/пароли статические)
На просторах интернета есть готовые плейбуки для установки strongswan, Впринципе плейбуки несложные, написать такой можно за час.
Однако,так как нет опыта со strongswan, я бы повозиля сначала с ручной установкой и настройкой денек.


3) имеется сильно нагруженный пользователями сервер на php/mysql стеке, проблемы: тормозит, "ресурс недоступен". что будете смотреть в каком порядке, как будете действовать? 36vCPU, 80Gb vRAM, 2Tb vDISK (SAN)
1. Логи web-сервера php и mysql
2. Нагрузку в top, atop
3. количество воркеров
4. запросы в mysql (возможно долгие запросы имеются)
 

4) взять чистую виртуальную машину в virtualbox на ubuntu 16.04, написать плейбук ansible который делает следующее:
 - ставит nginx, zsh, wget
 - клонирует из git в /var/www/ очень простую  web страничку "Under construction"
 - кладет новую конфигурацию nginx которая направляет на эту страничку
 - настраивает в sysctl параметр fs.files-max в 1204000 и somaxconn в 65535
 - прописывает на этой машинке 2 разных ssh ключа в /root
 - результат в git на github в приватном репозитории
